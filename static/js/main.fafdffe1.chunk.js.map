{"version":3,"sources":["component/AddVideoForm.tsx","component/YoutubeCard.tsx","component/Homepage.tsx","component/SignupOrSignInForm.tsx","database.ts","App.tsx","index.tsx"],"names":["AddVideoForm","onChange","history","useHistory","useState","videoUrl","setVideoUrl","handleSubmit","useCallback","push","handleChange","value","target","style","width","Form","Label","htmlFor","Control","id","size","type","placeholder","Button","variant","onClick","getYoutubeTitle","require","YoutubeCard","url","userName","videoTitle","setVideoTitle","getYouTubeID","fuzzy","err","title","Container","marginTop","marginBottom","Row","Col","sm","height","Homepage","videoList","map","youtubeVideo","uploader","SignUpOrSignInForm","userList","email","setEmail","password","setPassword","error","setError","handleEmailChange","handlePasswordChange","handleSignUpSubmit","findIndex","user","newUser","Math","random","handleSignInSubmit","foundUser","find","Alert","Group","className","marginRight","content","App","setVideoList","setUserList","undefined","currentUser","setCurrentUser","handleAddVideoFormChange","newVideo","oldList","handleSignUpOrSignInChange","u","exact","path","paddingRight","to","marginLeft","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fafdffe1.chunk.js","sourcesContent":["import React, { useCallback, useState } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\n\ntype AddVideoFormProps = {\n  onChange: (url: string) => void;\n};\n\nfunction AddVideoForm({ onChange }: AddVideoFormProps) {\n  const history = useHistory();\n\n  const [videoUrl, setVideoUrl] = useState(\"\");\n\n  const handleSubmit = useCallback(() => {\n    if (videoUrl !== \"\") {\n      onChange(videoUrl);\n      history.push(\"/\");\n    }\n  }, [history, onChange, videoUrl]);\n\n  const handleChange = useCallback((value: any) => {\n    setVideoUrl(value.target.value);\n  }, []);\n\n  return (\n    <div style={{ width: \"50%\" }}>\n      <>\n        <Form.Label htmlFor=\"url-form\">\n          Add your URL in the form below:\n        </Form.Label>\n        <Form.Control\n          id=\"url-form\"\n          size=\"lg\"\n          type=\"text\"\n          placeholder=\"Share your URL here\"\n          onChange={handleChange}\n        />\n        <br />\n        <Button variant=\"primary\" type=\"submit\" onClick={handleSubmit}>\n          Save the video\n        </Button>\n      </>\n    </div>\n  );\n}\n\nexport default AddVideoForm;\n","import React, { useState } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport getYouTubeID from \"get-youtube-id\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nvar getYoutubeTitle = require(\"get-youtube-title\");\n\ntype props = {\n  url: string;\n  userName: string;\n};\n\nfunction YoutubeCard({ url, userName }: props) {\n  const [videoTitle, setVideoTitle] = useState(\"\");\n  const id = getYouTubeID(url, {\n    fuzzy: false,\n  });\n\n  getYoutubeTitle(id, (err: any, title: string) => {\n    setVideoTitle(title);\n  });\n\n  return (\n    <Container style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\n      <Row>\n        <Col sm={8}>\n          <ReactPlayer url={url} width=\"480px\" height=\"360px\" />\n        </Col>\n        <Col sm={4}>\n          <strong>{videoTitle}</strong>\n          <br />\n          <i>\n            Uploaded by: <strong>{userName}</strong>\n          </i>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default YoutubeCard;\n","import YoutubeCard from \"./YoutubeCard\";\n\nexport type Video = {\n  id: number;\n  url: string;\n  uploader: string;\n};\n\ntype HomepageProps = {\n  videoList: Video[];\n};\n\nfunction Homepage({ videoList }: HomepageProps) {\n  return (\n    <div>\n      {videoList.map((youtubeVideo: Video) => {\n        return (\n          <YoutubeCard\n            key={youtubeVideo.id}\n            url={youtubeVideo.url}\n            userName={youtubeVideo.uploader}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nexport default Homepage;\n","import React, { useCallback, useState } from \"react\";\nimport { Alert, Button, Form } from \"react-bootstrap\";\n\nexport type User = {\n  id: number;\n  email: string;\n  password: string;\n};\n\ntype SignUpOrSignInFormProps = {\n  userList: User[];\n  onChange: (user: User) => void;\n};\n\nfunction SignUpOrSignInForm({ userList, onChange }: SignUpOrSignInFormProps) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [error, setError] = useState(\"\");\n\n  const handleEmailChange = useCallback((value: any) => {\n    setError(\"\");\n    setEmail(value.target.value);\n  }, []);\n\n  const handlePasswordChange = useCallback((value: any) => {\n    setPassword(value.target.value);\n  }, []);\n\n  const handleSignUpSubmit = useCallback(() => {\n    if (\n      email !== \"\" &&\n      userList.findIndex((user) => user.email === email) === -1 &&\n      password !== \"\"\n    ) {\n      const newUser = {\n        id: Math.random() * 10000000,\n        email,\n        password,\n      };\n      onChange(newUser);\n      setError(\"\");\n    } else {\n      email === \"\"\n        ? setError(\"Please enter your email!\")\n        : password === \"\"\n        ? setError(\"Please enter your password!\")\n        : setError(\"This user alreadys exists!\");\n    }\n  }, [email, onChange, password, userList]);\n\n  const handleSignInSubmit = useCallback(() => {\n    const foundUser = userList.find((user) => user.email === email);\n    if (foundUser) {\n      setError(\"\");\n      foundUser.password === password\n        ? onChange(foundUser)\n        : setError(\"Your password is wrong. Please double check again!\");\n    } else {\n      setError(\"Cannot find you in our database. Please register!\");\n    }\n  }, [email, onChange, password, userList]);\n\n  return (\n    <div style={{ width: \"40%\" }}>\n      {error !== \"\" && <Alert variant=\"danger\">{error}</Alert>}\n      <Form.Group className=\"mb-3\">\n        <Form.Label htmlFor=\"email-form\">Email address</Form.Label>\n        <Form.Control\n          id=\"email-form\"\n          type=\"email\"\n          placeholder=\"Enter email\"\n          onChange={handleEmailChange}\n        />\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\">\n        <Form.Label htmlFor=\"password\">Password</Form.Label>\n        <Form.Control\n          id=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          onChange={handlePasswordChange}\n        />\n      </Form.Group>\n      <br />\n\n      <Button\n        variant=\"outline-primary\"\n        type=\"submit\"\n        onClick={handleSignInSubmit}\n        style={{ marginRight: \"15px\" }}\n      >\n        Sign in\n      </Button>\n\n      <Button variant=\"primary\" type=\"submit\" onClick={handleSignUpSubmit}>\n        Register\n      </Button>\n    </div>\n  );\n}\n\nexport default SignUpOrSignInForm;\n","export let content = {\n  videos: [\n    {\n      id: 1,\n      url: \"https://www.youtube.com/watch?v=Ilui-mb3sT0\",\n      uploader: \"haipham@gmail.com\",\n    },\n    {\n      id: 2,\n      url: \"https://www.youtube.com/watch?v=HbHAMzv1bUs\",\n      uploader: \"haipham@gmail.com\",\n    },\n  ],\n  users: [\n    {\n      id: 10000001,\n      email: \"haipham@gmail.com\",\n      password: \"123\",\n    },\n  ],\n};\n","import React, { useCallback, useState } from \"react\";\nimport \"./App.css\";\nimport AddVideoForm from \"./component/AddVideoForm\";\nimport Homepage from \"./component/Homepage\";\nimport SignUpOrSignInForm, { User } from \"./component/SignupOrSignInForm\";\nimport { content } from \"./database\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { Button, Container, Row } from \"react-bootstrap\";\n\nfunction App() {\n  const [videoList, setVideoList] = useState(content.videos);\n  const [userList, setUserList] = useState(content.users);\n  const [currentUser, setCurrentUser] = useState<User | undefined>(undefined);\n\n  const handleAddVideoFormChange = useCallback(\n    (url: string) => {\n      const newVideo = {\n        id: Math.random() * 10000000,\n        url,\n        uploader: currentUser?.email || \"\",\n      };\n      setVideoList((oldList) => [...oldList, newVideo]);\n    },\n    [currentUser?.email]\n  );\n\n  const handleSignUpOrSignInChange = useCallback(\n    (user: User) => {\n      setCurrentUser(user);\n\n      if (userList.findIndex((u) => u.email === user.email) === -1)\n        setUserList((oldList) => [...oldList, user]);\n    },\n    [userList]\n  );\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            <Container>\n              <Row>\n                {!currentUser && (\n                  <>\n                    <h1 style={{ paddingRight: \"20px\" }}>\n                      Let's sign up to join our network\n                    </h1>\n                    <br />\n                    <SignUpOrSignInForm\n                      userList={userList}\n                      onChange={handleSignUpOrSignInChange}\n                    ></SignUpOrSignInForm>\n                  </>\n                )}\n\n                {currentUser && (\n                  <Container>\n                    <Row>\n                      <h1>Hello {currentUser.email}</h1>\n                    </Row>\n                    <Row>\n                      <Link to=\"/share\">Share you beloved video</Link>\n                      <Button\n                        style={{ marginLeft: \"15px\" }}\n                        variant=\"outline-danger\"\n                        type=\"submit\"\n                        onClick={() => setCurrentUser(undefined)}\n                      >\n                        Log out\n                      </Button>\n                    </Row>\n                  </Container>\n                )}\n              </Row>\n              <hr />\n              <Row>\n                <p>\n                  <strong>\n                    Since this is completely a frontend app, no backend is\n                    supported. <br />\n                    Thus please do not refresh the app, otherwise you will lose\n                    what you just added.\n                  </strong>\n                </p>\n              </Row>\n              <hr />\n              <Row>\n                <Homepage videoList={videoList}></Homepage>\n              </Row>\n            </Container>\n          </Route>\n\n          <Route path=\"/share\">\n            <Container>\n              <AddVideoForm onChange={handleAddVideoFormChange}></AddVideoForm>\n            </Container>\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}